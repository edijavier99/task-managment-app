"use strict";(self.webpackChunkreact_hello_webapp=self.webpackChunkreact_hello_webapp||[]).push([[977],{6977:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var o=n(2982),r=n(885),a=n(7294),i=n(7898),c=n(3379),l=n.n(c),s=n(7795),u=n.n(s),d=n(569),f=n.n(d),p=n(3565),h=n.n(p),m=n(9216),g=n.n(m),y=n(4589),E=n.n(y),k=n(3209),w={};w.styleTagTransform=E(),w.setAttributes=h(),w.insert=f().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),l()(k.Z,w),k.Z&&k.Z.locals&&k.Z.locals;const b=function(){var t=(0,i.s0)(),e=(0,a.useState)([]),n=(0,r.Z)(e,2),c=n[0],l=n[1],s=(0,a.useState)([]),u=(0,r.Z)(s,2),d=u[0],f=u[1],p=localStorage.getItem("jtw-token");return(0,a.useEffect)((function(){p&&fetch("".concat("https://turbo-rotary-phone-g4x6pg46jqgfrjj-3001.app.github.dev/","api/").concat(localStorage.getItem("user_id"),"/todo"),{method:"GET",headers:{"Content-type":"application/json"}}).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){var e=t.filter((function(t){return!t.complete})),n=(new Date).toLocaleDateString(),o=e.filter((function(t){return new Date(t.date).toLocaleDateString()===n}));l(o)})).catch((function(t){console.error("Error fetching todos:",t)}))}),[]),a.createElement("section",null,a.createElement("h4",null,"Tareas que tienes pendientes para hoy"),a.createElement("button",{className:"btn goButton",onClick:function(){return t("/todo-list")}},"Añadir Tareas"),a.createElement("ul",{id:"todayList"},c.map((function(t,e){var n=new Date(t.date),r=d.includes(t.id);return a.createElement("div",{key:e,className:"todoContainer my-3"},a.createElement("span",{className:"check-today",onClick:function(){return e=t.id,f((function(t){return[].concat((0,o.Z)(t),[e])})),void setTimeout((function(){l((function(t){return t.filter((function(t){return t.id!==e}))}))}),1e3);var e}},r&&"✔"),a.createElement("div",{className:"d-flex flex-column todoInfo"},a.createElement("li",null,t.title),a.createElement("span",{className:"text-muted todayDate"},n.toDateString())),a.createElement("i",{className:"fa-solid fa-trash",onClick:function(){return e=t.id,n=t,void fetch("".concat("https://turbo-rotary-phone-g4x6pg46jqgfrjj-3001.app.github.dev/","api/delete-todo/").concat(e),{method:"DELETE",headers:{"Content-Type":"Application/json"}}).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(){l((function(t){return t.filter((function(t){return t.title!==n.title}))}))})).catch((function(t){console.error("Error deleting todo:",t)}));var e,n},style:{color:"#af3528"}}))}))))}},3209:(t,e,n)=>{n.d(e,{Z:()=>c});var o=n(8081),r=n.n(o),a=n(3645),i=n.n(a)()(r());i.push([t.id,"\n#todayList{\n    padding: 0;\n    list-style: none;\n}\n.todoContainer{\n   display: flex;\n   flex-direction: row;\n   align-items: center;\n   background-color: rgb(230, 226, 226);\n   padding:13px;\n   border-radius: 3px;\n}\n.todoInfo{\n    width: 80%;\n    align-items: left;\n}\n.check-today{\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin: 0px 10px;\n    border:1px solid black;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.todayDate{\n    font-size: 10px;\n}",""]);const c=i}}]);